{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","components/InfoBar/InfoBar.js","Icons/onlineIcon.png","Icons/closeIcon.png","components/Input/Input.js","components/Message/Message.js","components/Messages/Messages.js","app.js","index.js"],"names":["socket","Join","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","preventDefault","to","InfoBar","src","alt","href","Input","message","setMessage","sendMessage","onKeyPress","key","Message","user","text","isSentByCurrentUser","trimmedName","trim","toLowerCase","Messages","messages","map","i","connectionOptions","Chat","location","setMessages","ENDPOINT","useEffect","queryString","parse","search","console","log","io","emit","off","on","App","path","exact","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.dbd91094.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\n\nimport './Chat.css'\nimport InfoBar from '../InfoBar/InfoBar'\nimport Input from '../Input/Input'\nimport Messages from '../Messages/Messages'\n\nlet socket;\n\nvar connectionOptions =  {\n  \"force new connection\" : true,\n  \"reconnectionAttempts\": \"Infinity\", \n  \"timeout\" : 10000,                  \n  \"transports\" : [\"websocket\"]\n};\n\nconst Chat = ({location}) => {\n\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n  const ENDPOINT = 'https://chatbox-react-b.herokuapp.com/'\n\n  useEffect(() =>{\n    const {name, room} = queryString.parse(location.search);\n\n    console.log(name, room);\n\n    socket = io(ENDPOINT, connectionOptions);\n\n    setName(name);\n    setRoom(room);\n\n    socket.emit('join', {name, room});\n    // , ({error}) => {\n    //   if(error)\n    //     console.log(error);\n    // })\n\n    return () => {\n      socket.emit('disconnect');\n      \n      socket.off();\n    }\n\n  }, [ENDPOINT, location.search]);\n\n  useEffect(() => {\n    socket.on('message', (message) => {\n      setMessages([...messages, message]);\n    })\n  }, [messages])\n\n  const sendMessage = (event) => {\n    event.preventDefault();\n\n    if(message){\n      socket.emit('sendMessage', message, () => setMessage(''));\n    }\n  }\n\n  return (\n    <div className=\"outerContainer\">\n      <div className=\"container\">\n\n        <InfoBar room={room}/>\n        <Messages messages={messages} name={name}/>\n        <Input message={message} setMessage={setMessage} sendMessage={sendMessage}/>\n\n      </div>\n    </div>\n  );\n}\n\nexport default Chat;","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport './Join.css';\n\nconst Join = () => {\n\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n\n  return (\n    <div className=\"joinOuterContainer\">\n      <div className=\"joinInnerContainer\">\n        <h1 className=\"heading\">Join</h1>\n\n        <div><input placeholder=\"Name\" className=\"joinInput\" type=\"text\" onChange={(event) => setName(event.target.value)} /></div>\n        <div><input placeholder=\"Room\" className=\"joinInput mt-20\" type=\"text\" onChange={(event) => setRoom(event.target.value)} /></div>\n\n        <Link onClick={event => (!name || !room) ? event.preventDefault():null} to={`/chat?name=${name}&room=${room}`}>\n          <button className=\"button mt-20\" type=\"submit\">Sign In</button>\n        </Link>\n\n      </div>\n    </div>\n  );\n}\n\nexport default Join;","import React from 'react';\nimport './InfoBar.css'\n\nimport closeIcon from '../../Icons/closeIcon.png'\nimport onlineIcon from '../../Icons/onlineIcon.png'\n\nconst InfoBar = ({room}) => {\n  return(\n    <div className=\"infoBar\">\n      <div className=\"leftInnerContainer\">\n        <img className=\"onlineIcon\" src={onlineIcon} alt=\"online\"></img>\n        <h3>{room}</h3>\n      </div>\n      <div className=\"rightInnerContainer\">\n        <a href=\"/\"><img src={closeIcon} alt=\"close\"></img></a>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoBar;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import React from 'react'\n\nimport './Input.css';\n\nconst Input = ({message, setMessage, sendMessage}) => {\n  return (\n    <form className=\"form\">\n      <input \n      className=\"input\"\n      type=\"text\"\n      placeholder=\"Type a message...\"\n      value={message}\n      onChange={event => setMessage(event.target.value)}\n      onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\n      />\n      <button className=\"sendButton\" onClick={(event) => sendMessage(event)}>Send Message</button>\n    </form>\n  );\n}\n\nexport default Input;","import React from 'react'\n\nimport './Message.css'\n\nconst Message = ({message: {user, text}, name}) => {\n  let isSentByCurrentUser = false;\n  const trimmedName = name.trim().toLowerCase();\n\n  if(user === trimmedName){\n    isSentByCurrentUser = true;\n  }\n\n  return(\n    isSentByCurrentUser \n    ? (\n      <div className=\"messageContainer justifyEnd\">\n        <p className=\"sentText pr-10\">{trimmedName}</p>\n        <div className=\"messageBox backgroundBlue\">\n          <p className=\"messageText colorWhite\">{text}</p>\n        </div>\n      </div>\n    )\n    : (\n      <div className=\"messageContainer justifyStart\">\n        <div className=\"messageBox backgoundLight\">\n          <p className=\"messageText colorDark\">{text}</p>\n        </div>\n        <p className=\"sentText pl-10\">{user}</p>\n      </div>\n    ) \n  );\n}\n\nexport default Message;","import React from 'react';\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\nimport Message from '../Message/Message';\n\nimport './Messages.css'\n\nconst Messages = ({messages, name}) => {\n  return(\n    <ScrollToBottom className=\"messages\">\n      {messages.map((message, i) => <div key={i}><Message message={message} name={name}/></div>)}\n    </ScrollToBottom>\n  );\n}\n\nexport default Messages;","import React from 'react';\n\nimport { BrowserRouter as Router, Route} from 'react-router-dom'\n\nimport Join from './components/Join/Join';\nimport Chat from './components/Chat/Chat';\n\nconst App = () => {\n  return (\n    <Router>\n      <Route path=\"/\" exact component={Join} />\n      <Route path=\"/chat\" component={Chat} />\n    </Router>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app';\n\nReactDOM.render(\n  < App />,\n  document.querySelector('#root')\n);"],"sourceRoot":""}